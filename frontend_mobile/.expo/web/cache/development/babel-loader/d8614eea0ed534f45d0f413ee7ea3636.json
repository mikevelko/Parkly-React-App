{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\GitHub\\\\Parkly-React-App\\\\frontend_mobile\\\\components\\\\CountryList.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport styles from \"../styles/styles\";\nimport CountryListItem from \"./CountryListItem\";\n\nfunction CountryList(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      parkingSpots = _useState4[0],\n      setParkingSpots = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchString = _useState6[0],\n      setSearchString = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      overviewInfo = _useState8[0],\n      setOverviewInfo = _useState8[1];\n\n  var defaultUrlToFetch = 'http://localhost:8080/parkingSpots?name=parking&page=0&size=4';\n\n  var _useState9 = useState(defaultUrlToFetch),\n      _useState10 = _slicedToArray(_useState9, 2),\n      urlToFetch = _useState10[0],\n      setUrlToFetch = _useState10[1];\n\n  var SearchFilterType;\n\n  (function (SearchFilterType) {\n    SearchFilterType[SearchFilterType[\"All\"] = 0] = \"All\";\n    SearchFilterType[SearchFilterType[\"Available\"] = 1] = \"Available\";\n    SearchFilterType[SearchFilterType[\"Booked\"] = 2] = \"Booked\";\n  })(SearchFilterType || (SearchFilterType = {}));\n\n  var _useState11 = useState(SearchFilterType.All),\n      _useState12 = _slicedToArray(_useState11, 2),\n      searchFilter = _useState12[0],\n      setSearchFilter = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      searchSorted = _useState14[0],\n      setSearchSorted = _useState14[1];\n\n  var _useState15 = useState(1),\n      _useState16 = _slicedToArray(_useState15, 2),\n      currentPage = _useState16[0],\n      setCurrentPage = _useState16[1];\n\n  var onPressAll = function onPressAll() {\n    setSearchFilter(SearchFilterType.All);\n    setCurrentPage(1);\n  };\n\n  var onPressAvailable = function onPressAvailable() {\n    setSearchFilter(SearchFilterType.Available);\n    setCurrentPage(1);\n  };\n\n  var onPressBooked = function onPressBooked() {\n    setSearchFilter(SearchFilterType.Booked);\n    setCurrentPage(1);\n  };\n\n  var onPressSort = function onPressSort() {\n    setSearchSorted(!searchSorted);\n    setCurrentPage(1);\n  };\n\n  var onPressLeftOne = function onPressLeftOne() {\n    return setCurrentPage(function (currentPage) {\n      return currentPage - 1;\n    });\n  };\n\n  var onPressLeftAll = function onPressLeftAll() {\n    return setCurrentPage(1);\n  };\n\n  var onPressRightOne = function onPressRightOne() {\n    return setCurrentPage(function (currentPage) {\n      return currentPage + 1;\n    });\n  };\n\n  var onPressRightAll = function onPressRightAll() {\n    return setCurrentPage(function (currentPage) {\n      return 17;\n    });\n  };\n\n  var fetchData = function fetchData() {\n    console.log(\"fetching data\");\n    setLoading(true);\n    fetch(urlToFetch).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      setOverviewInfo(json);\n      console.log(json);\n    }).catch(function (error) {\n      return console.error(error);\n    }).finally(function () {\n      return setLoading(false);\n    });\n    setParkingSpots(overviewInfo[\"data\"]);\n    console.log(parkingSpots);\n  };\n\n  useEffect(function () {\n    fetchData();\n  }, [urlToFetch, currentPage]);\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(CountryListItem, {\n      item: item,\n      onPress: function onPress() {\n        return navigation.navigate('SpotInfo', {\n          item: item\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 4\n      }\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 0,\n      flexDirection: 'row',\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 2\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button11,\n    onPress: onPressAll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 3\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"25 all\")), React.createElement(TouchableOpacity, {\n    style: styles.button1,\n    onPress: onPressAvailable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 3\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, \"3 avilable\")), React.createElement(TouchableOpacity, {\n    style: styles.button2,\n    onPress: onPressBooked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, \"17 booked\")), React.createElement(TouchableOpacity, {\n    style: styles.button3,\n    onPress: onPressSort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, \"Sort\"))), isLoading ? React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, \"Loading...\") : React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, React.createElement(FlatList, {\n    data: parkingSpots,\n    renderItem: renderItem,\n    keyExtractor: function keyExtractor(item) {\n      return item.name;\n    },\n    refreshing: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 6\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 0,\n      flexDirection: 'row',\n      justifyContent: 'flex-end'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 6\n    }\n  }, React.createElement(TouchableOpacity, {\n    disabled: currentPage == 1,\n    style: styles.button4,\n    onPress: onPressLeftAll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, \"\\u21E4\")), React.createElement(TouchableOpacity, {\n    disabled: currentPage == 1,\n    style: styles.button4,\n    onPress: onPressLeftOne,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 8\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, \"\\u2190\")), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 8\n    }\n  }, \"page \", currentPage, \" of 17\"), React.createElement(TouchableOpacity, {\n    disabled: currentPage == 17,\n    style: styles.button4,\n    onPress: onPressRightOne,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 8\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, \"\\u2192\")), React.createElement(TouchableOpacity, {\n    disabled: currentPage == 17,\n    style: styles.button4,\n    onPress: onPressRightAll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 8\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, \"\\u21E5\")))));\n}\n\nexport default CountryList;","map":{"version":3,"sources":["D:/GitHub/Parkly-React-App/frontend_mobile/components/CountryList.tsx"],"names":["React","useState","useEffect","styles","CountryListItem","CountryList","navigation","isLoading","setLoading","parkingSpots","setParkingSpots","searchString","setSearchString","overviewInfo","setOverviewInfo","defaultUrlToFetch","urlToFetch","setUrlToFetch","SearchFilterType","All","searchFilter","setSearchFilter","searchSorted","setSearchSorted","currentPage","setCurrentPage","onPressAll","onPressAvailable","Available","onPressBooked","Booked","onPressSort","onPressLeftOne","onPressLeftAll","onPressRightOne","onPressRightAll","fetchData","console","log","fetch","then","response","json","catch","error","finally","renderItem","item","navigate","container","flex","flexDirection","justifyContent","button11","button1","button2","button3","name","button4","title"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;AAcA,OAAOC,MAAP;AACA,OAAOC,eAAP;;AAEA,SAASC,WAAT,OAAqC;AAAA;;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAAA,kBACJL,QAAQ,CAAC,IAAD,CADJ;AAAA;AAAA,MAC7BM,SAD6B;AAAA,MAClBC,UADkB;;AAAA,mBAEIP,QAAQ,CAAC,EAAD,CAFZ;AAAA;AAAA,MAE7BQ,YAF6B;AAAA,MAEfC,eAFe;;AAAA,mBAGIT,QAAQ,CAAC,EAAD,CAHZ;AAAA;AAAA,MAG7BU,YAH6B;AAAA,MAGfC,eAHe;;AAAA,mBAIIX,QAAQ,CAAC,EAAD,CAJZ;AAAA;AAAA,MAI7BY,YAJ6B;AAAA,MAIfC,eAJe;;AAKpC,MAAMC,iBAAiB,GAAG,+DAA1B;;AALoC,mBAMAd,QAAQ,CAACc,iBAAD,CANR;AAAA;AAAA,MAM7BC,UAN6B;AAAA,MAMjBC,aANiB;;AAAA,MAQ/BC,gBAR+B;;AAAA,aAQ/BA,gBAR+B;AAQ/BA,IAAAA,gBAR+B,CAQ/BA,gBAR+B;AAQ/BA,IAAAA,gBAR+B,CAQ/BA,gBAR+B;AAQ/BA,IAAAA,gBAR+B,CAQ/BA,gBAR+B;AAAA,KAQ/BA,gBAR+B,KAQ/BA,gBAR+B;;AAAA,oBAaIjB,QAAQ,CAACiB,gBAAgB,CAACC,GAAlB,CAbZ;AAAA;AAAA,MAa7BC,YAb6B;AAAA,MAafC,eAbe;;AAAA,oBAcIpB,QAAQ,CAAC,KAAD,CAdZ;AAAA;AAAA,MAc7BqB,YAd6B;AAAA,MAcfC,eAde;;AAAA,oBAeEtB,QAAQ,CAAC,CAAD,CAfV;AAAA;AAAA,MAe7BuB,WAf6B;AAAA,MAehBC,cAfgB;;AAiBpC,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACxBL,IAAAA,eAAe,CAACH,gBAAgB,CAACC,GAAlB,CAAf;AACAM,IAAAA,cAAc,CAAC,CAAD,CAAd;AACA,GAHD;;AAIA,MAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC9BN,IAAAA,eAAe,CAACH,gBAAgB,CAACU,SAAlB,CAAf;AACAH,IAAAA,cAAc,CAAC,CAAD,CAAd;AACA,GAHD;;AAIA,MAAMI,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC3BR,IAAAA,eAAe,CAACH,gBAAgB,CAACY,MAAlB,CAAf;AACAL,IAAAA,cAAc,CAAC,CAAD,CAAd;AACA,GAHD;;AAIA,MAAMM,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzBR,IAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AACAG,IAAAA,cAAc,CAAC,CAAD,CAAd;AACA,GAHD;;AAIA,MAAMO,cAAc,GAAG,SAAjBA,cAAiB;AAAA,WAAMP,cAAc,CAAC,UAAAD,WAAW;AAAA,aAAIA,WAAW,GAAG,CAAlB;AAAA,KAAZ,CAApB;AAAA,GAAvB;;AACA,MAAMS,cAAc,GAAG,SAAjBA,cAAiB;AAAA,WAAMR,cAAc,CAAC,CAAD,CAApB;AAAA,GAAvB;;AACA,MAAMS,eAAe,GAAG,SAAlBA,eAAkB;AAAA,WAAMT,cAAc,CAAC,UAAAD,WAAW;AAAA,aAAIA,WAAW,GAAG,CAAlB;AAAA,KAAZ,CAApB;AAAA,GAAxB;;AACA,MAAMW,eAAe,GAAG,SAAlBA,eAAkB;AAAA,WAAMV,cAAc,CAAC,UAAAD,WAAW;AAAA,aAAI,EAAJ;AAAA,KAAZ,CAApB;AAAA,GAAxB;;AAGA,MAAMY,SAAS,GAAG,SAAZA,SAAY,GAAM;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA9B,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA+B,IAAAA,KAAK,CAACvB,UAAD,CAAL,CACEwB,IADF,CACO,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KADP,EAEEF,IAFF,CAEO,UAACE,IAAD,EAAU;AAAE5B,MAAAA,eAAe,CAAC4B,IAAD,CAAf;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAYI,IAAZ;AAAmB,KAH1B,EAIEC,KAJF,CAIQ,UAACC,KAAD;AAAA,aAAWP,OAAO,CAACO,KAAR,CAAcA,KAAd,CAAX;AAAA,KAJR,EAKEC,OALF,CAKU;AAAA,aAAMrC,UAAU,CAAC,KAAD,CAAhB;AAAA,KALV;AAMAE,IAAAA,eAAe,CAACG,YAAY,CAAC,MAAD,CAAb,CAAf;AACAwB,IAAAA,OAAO,CAACC,GAAR,CAAY7B,YAAZ;AACA,GAXD;;AAYAP,EAAAA,SAAS,CAAC,YAAM;AACfkC,IAAAA,SAAS;AACT,GAFQ,EAEN,CAACpB,UAAD,EAAaQ,WAAb,CAFM,CAAT;;AAIA,MAAMsB,UAAU,GAAG,SAAbA,UAAa,QAAc;AAAA,QAAXC,IAAW,SAAXA,IAAW;AAChC,WACC,oBAAC,eAAD;AACC,MAAA,IAAI,EAAEA,IADP;AAEC,MAAA,OAAO,EAAE;AAAA,eAAMzC,UAAU,CAAC0C,QAAX,CAAoB,UAApB,EAAgC;AAAED,UAAAA,IAAI,EAAJA;AAAF,SAAhC,CAAN;AAAA,OAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD;AAMA,GAPD;;AAqBA,SACC,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE5C,MAAM,CAAC8C,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAED,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACC,MAAAA,IAAI,EAAE,CAAP;AAAUC,MAAAA,aAAa,EAAE,KAAzB;AAAgCC,MAAAA,cAAc,EAAE;AAAhD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,gBAAD;AACM,IAAA,KAAK,EAAEjD,MAAM,CAACkD,QADpB;AAEM,IAAA,OAAO,EAAE3B,UAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIM,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJN,CADD,EASC,oBAAC,gBAAD;AACM,IAAA,KAAK,EAAEvB,MAAM,CAACmD,OADpB;AAEM,IAAA,OAAO,EAAE3B,gBAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIM,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJN,CATD,EAkBE,oBAAC,gBAAD;AACK,IAAA,KAAK,EAAExB,MAAM,CAACoD,OADnB;AAEK,IAAA,OAAO,EAAE1B,aAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJL,CAlBF,EA0BE,oBAAC,gBAAD;AACK,IAAA,KAAK,EAAE1B,MAAM,CAACqD,OADnB;AAEK,IAAA,OAAO,EAAEzB,WAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJL,CA1BF,CAFC,EAoCExB,SAAS,GACT,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADS,GAGT,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,QAAD;AAEC,IAAA,IAAI,EAAEE,YAFP;AAGC,IAAA,UAAU,EAAEqC,UAHb;AAIC,IAAA,YAAY,EAAE,sBAACC,IAAD;AAAA,aAAUA,IAAI,CAACU,IAAf;AAAA,KAJf;AAMC,IAAA,UAAU,EAAElD,SANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAgBC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAC2C,MAAAA,IAAI,EAAE,CAAP;AAAUC,MAAAA,aAAa,EAAE,KAAzB;AAAgCC,MAAAA,cAAc,EAAE;AAAhD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,gBAAD;AACQ,IAAA,QAAQ,EAAE5B,WAAW,IAAE,CAD/B;AAEE,IAAA,KAAK,EAAErB,MAAM,CAACuD,OAFhB;AAGE,IAAA,OAAO,EAAEzB,cAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE9B,MAAM,CAACwD,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CADD,EAQE,oBAAC,gBAAD;AACC,IAAA,QAAQ,EAAEnC,WAAW,IAAE,CADxB;AAEC,IAAA,KAAK,EAAErB,MAAM,CAACuD,OAFf;AAGC,IAAA,OAAO,EAAE1B,cAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE7B,MAAM,CAACwD,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALD,CARF,EAeE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAYnC,WAAZ,WAfF,EAgBE,oBAAC,gBAAD;AACC,IAAA,QAAQ,EAAEA,WAAW,IAAE,EADxB;AAEC,IAAA,KAAK,EAAErB,MAAM,CAACuD,OAFf;AAGC,IAAA,OAAO,EAAExB,eAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE/B,MAAM,CAACwD,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALD,CAhBF,EAuBE,oBAAC,gBAAD;AACC,IAAA,QAAQ,EAAEnC,WAAW,IAAE,EADxB;AAEC,IAAA,KAAK,EAAErB,MAAM,CAACuD,OAFf;AAGC,IAAA,OAAO,EAAEvB,eAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEhC,MAAM,CAACwD,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALD,CAvBF,CAhBD,CAvCF,CADD;AA2FA;;AAGD,eAAetD,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tSafeAreaView,\r\n\tView,\r\n\tFlatList,\r\n\tStyleSheet,\r\n\tText,\r\n\tStatusBar,\r\n\tImage,\r\n\tTouchableOpacity,\r\n\tTextInput,\r\n\tNativeSyntheticEvent,\r\n\tTextInputChangeEventData,\r\n} from 'react-native';\r\nimport styles from '../styles/styles';\r\nimport CountryListItem from './CountryListItem';\r\n\r\nfunction CountryList({ navigation }) {\r\n\tconst [isLoading, setLoading] = useState(true);\r\n\tconst [parkingSpots, setParkingSpots] = useState([]);\r\n\tconst [searchString, setSearchString] = useState('');\r\n\tconst [overviewInfo, setOverviewInfo] = useState('');\r\n\tconst defaultUrlToFetch = 'http://localhost:8080/parkingSpots?name=parking&page=0&size=4';\r\n\tconst [urlToFetch, setUrlToFetch] = useState(defaultUrlToFetch);\r\n\r\n\tenum SearchFilterType{\r\n\t\tAll,\r\n\t\tAvailable,\r\n\t\tBooked\r\n\t}\r\n\tconst [searchFilter, setSearchFilter] = useState(SearchFilterType.All);\r\n\tconst [searchSorted, setSearchSorted] = useState(false);\r\n\tconst [currentPage, setCurrentPage] = useState(1);\r\n\r\n\tconst onPressAll = () => {\r\n\t\tsetSearchFilter(SearchFilterType.All);\r\n\t\tsetCurrentPage(1);\r\n\t}\r\n\tconst onPressAvailable = () => {\r\n\t\tsetSearchFilter(SearchFilterType.Available);\r\n\t\tsetCurrentPage(1);\r\n\t}\r\n\tconst onPressBooked = () => {\r\n\t\tsetSearchFilter(SearchFilterType.Booked);\r\n\t\tsetCurrentPage(1);\r\n\t}\r\n\tconst onPressSort = () => {\r\n\t\tsetSearchSorted(!searchSorted);\r\n\t\tsetCurrentPage(1);\r\n\t}\r\n\tconst onPressLeftOne = () => setCurrentPage(currentPage => currentPage - 1);\r\n\tconst onPressLeftAll = () => setCurrentPage(1);\r\n\tconst onPressRightOne = () => setCurrentPage(currentPage => currentPage + 1);\r\n\tconst onPressRightAll = () => setCurrentPage(currentPage => 17 /* this should be supplied by backend */);\r\n\r\n\r\n\tconst fetchData = () => {\r\n\t\tconsole.log(\"fetching data\");\r\n\t\tsetLoading(true);\r\n\t\tfetch(urlToFetch)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((json) => { setOverviewInfo(json); \r\n\t\t\t\t\t\t\t  console.log(json) } )\r\n\t\t\t.catch((error) => console.error(error))\r\n\t\t\t.finally(() => setLoading(false));\r\n\t\tsetParkingSpots(overviewInfo[\"data\"]);\r\n\t\tconsole.log(parkingSpots);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tfetchData();\r\n\t}, [urlToFetch, currentPage]);\r\n\r\n\tconst renderItem = ({ item }) => {\r\n\t\treturn (\r\n\t\t\t<CountryListItem\r\n\t\t\t\titem={item}\r\n\t\t\t\tonPress={() => navigation.navigate('SpotInfo', { item })}\r\n\t\t\t/>\r\n\t\t);\r\n\t};\r\n\r\n\t// const handleRefresh = () => {\r\n\t// \tif(searchString.length === 0)\r\n\t// \t{\r\n\t// \t\tsetUrlToFetch(`https://restcountries.eu/rest/v2/all`);\r\n\t// \t}\r\n\t// \telse\r\n\t// \t{\r\n\t// \t\tsetUrlToFetch(`https://restcountries.eu/rest/v2/name/${searchString}`);\r\n\t// \t}\r\n\t// \tfetchData();\r\n\t// };\r\n\t\r\n\treturn (\r\n\t\t<SafeAreaView style={styles.container}>\r\n\r\n <View style={{flex: 0, flexDirection: 'row', justifyContent: 'space-between'}}>\r\n \t<TouchableOpacity\r\n        style={styles.button11}\r\n        onPress={onPressAll}\r\n      >\r\n        <Text>25 all</Text>\r\n      </TouchableOpacity>\r\n\r\n\r\n \t<TouchableOpacity\r\n        style={styles.button1}\r\n        onPress={onPressAvailable}\r\n      >\r\n        <Text>3 avilable</Text>\r\n      </TouchableOpacity>\r\n\r\n\r\n\r\n\t  <TouchableOpacity\r\n        style={styles.button2}\r\n        onPress={onPressBooked}\r\n      >\r\n        <Text>17 booked</Text>\r\n      </TouchableOpacity>\r\n\r\n\r\n\t  <TouchableOpacity\r\n        style={styles.button3}\r\n        onPress={onPressSort}\r\n      >\r\n        <Text>Sort</Text>\r\n      </TouchableOpacity>\r\n\t  </View>\r\n\r\n\t\t\t{isLoading ? (\r\n\t\t\t\t<Text>Loading...</Text>\r\n\t\t\t) : (\r\n\t\t\t\t<View>\r\n\t\t\t\t\t<FlatList\r\n\t\t\t\t\t\t// data={countries.slice(0, countries.length)}\r\n\t\t\t\t\t\tdata={parkingSpots}\r\n\t\t\t\t\t\trenderItem={renderItem}\r\n\t\t\t\t\t\tkeyExtractor={(item) => item.name}\r\n\t\t\t\t\t\t//onRefresh={handleRefresh}\r\n\t\t\t\t\t\trefreshing={isLoading}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* buttons at the end:\r\n\t\t\t\t\tall the way to the left\r\n\t\t\t\t\tone the the left\r\n\t\t\t\t\t -- text: page 3 of 17\r\n\t\t\t\t\tone to the right\r\n\t\t\t\t\tall the way to the right\r\n\t\t\t\t\t */}\r\n\t\t\t\t\t<View style={{flex: 0, flexDirection: 'row', justifyContent: 'flex-end'}}>\r\n\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t        disabled={currentPage==1}\r\n\t\t\t\t\t\t\t\tstyle={styles.button4}\r\n\t\t\t\t\t\t\t\tonPress={onPressLeftAll}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Text style={styles.title}>&#8676;</Text>\r\n\t\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\t\tdisabled={currentPage==1}\r\n\t\t\t\t\t\t\t\tstyle={styles.button4}\r\n\t\t\t\t\t\t\t\tonPress={onPressLeftOne}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Text style={styles.title}>&#8592;</Text>\r\n\t\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t\t<Text>page {currentPage} of 17</Text>\r\n\t\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\t\tdisabled={currentPage==17}\r\n\t\t\t\t\t\t\t\tstyle={styles.button4}\r\n\t\t\t\t\t\t\t\tonPress={onPressRightOne}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Text style={styles.title}>&#8594;</Text>\r\n\t\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\t\tdisabled={currentPage==17}\r\n\t\t\t\t\t\t\t\tstyle={styles.button4}\r\n\t\t\t\t\t\t\t\tonPress={onPressRightAll}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Text style={styles.title}>&#8677;</Text>\r\n\t\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t)}\r\n\t\t</SafeAreaView>\r\n\t);\r\n}\r\n  \r\n\r\nexport default CountryList;\r\n"]},"metadata":{},"sourceType":"module"}